首页开源软件讨论区 代码分享博客翻译资讯移动开发 招聘
当前访客身份：游客 [ 登录 | 加入开源中国 ]
开源中国开源资讯
当前位置：
资讯首页 »	 综合资讯 » 显示全文 ，投递新闻»

为什么程序员一天到晚都想说 FUCK！
oschina 发布于： 2013年02月11日 (28评)
分享到 新浪微博腾讯微博收藏+24


经常有人找我给他们的软件项目做修改或维护，我对这些项目毫不了解，而他们只告诉一些很少的项目相关信息。必然的，需要在项目中增加一些新的功能，但在动手之前，我通常需要耗费大量的功夫来大幅度的重构它们。

大概一个月前，一个公司老板给我来信“嗨，我有一个软件，需要做一些个性化的改动，有个大客户愿意花一大笔钱来买它，正等着呢，可我现在都没办法让它跑起来，最初的开发人员都找不到了。你能帮我搞定它吗？”

最初的程序员的逃离已经是亮起了红灯，但这个项目的技术架构正和我的胃口：node.js，mongodb，大量的事实数据流，以及UI上更新的速度要求。这个等待使用这个软件的用户的名字也让我精神一振。

我干！能坏到哪去？

你会忍不住的想骂街

能坏到不能再坏。

项目的一部分是用Java写成的。这很好，根据项目的现状，选用静态类型的语言是明智的选择。

而其余部分是用Javascript写的。Java和服务器端JavaScript和前端Javascript通信的机制是…..哇塞，这有个限制，参数名长度不能超过3个字符。

好吧，节省带宽，不是吗？我们现在说的这个项目具有巨大的数据流量，所以就尽量让json对象保持最小体积吧。

这就是让事情变得棘手的地方。

因为核心传输协议里只让各种变量名长3个字符，所以数据库设计也遵照这个原则。因为数据库里的各种表名、字段名、视图名等等都是这个模样，你猜怎么着？没错！所有的程序代码都沿袭了变量名不超过3个字符的特征。

这个风俗的渗透超出了变量名进而感染了数据。

为什么在应该写成label地方偏要写成lbl呢？以及诸如此类，等等等等…..在差不多两个月的研究这个项目后，我仍然不知道大部分的变量名的真实含义。我只是把它们当作是拉丁语，用来描述一种模糊的概念。我开始对这个项目是如何运转的有了一些理解。

情况慢慢清晰起来。

如何让一个布尔值符合这种命名机制？这样做：

function fix(boolean_value) {

    return boolean_value ? 'tru' : 'fls';
}
这样能节省空间。把一个1bit的值编码成一个24bit的字符串！服了！

好吧，但愿事情到此为止，但我发现了另外一个有趣的东西…这个东西在很多代码里反复出现，我不敢动它们，我怕会发生什么不可思议的事，会让有些程序跑不起来。

我有没有跟你们说过这个项目是没有单元测试代码的？当发现需要给它们写单元测试时你知道我有多受打击吗？但是，好在这个项目看起来最终不需要通过一个安全测试….哦，等一下，程序里有安全检查代码。

if (!thing || thing === 'null') ...
好可爱，不是吗？肯定是因为null被编码成了字符串。你还能有其它办法吗？

起初我一直在宽慰自己说他们这样做一定有必要的原因。

不管怎样，我全忍受了，有些东西从某种角度看似乎是合理的，有些可能是过度优化造成的。很糟糕，但有些我还是可以忍受的。

下面的这个是让我真正抓狂的东西：

function getPurple(cake) {

   cake.color = global_color_setting;
   return cake;
}
我甚至不知道如何入手去重构它，让它变得有实际作用…完全就是…什么玩意？谁干的！？

然而，这最糟糕的事情，最最糟糕的事情是，这个项目不知从何时起由传统的jQuery转向了Backbone。这没任何的问题，迁移的很好，我喜欢Backbone！

但他们忘了进行彻底的迁移。很多时候Backbone只是一个很薄的皮，包着旧的东西。大部分的代码甚至根本没有使用Backbone，仍然使用大量的$.ajax，随处可见。

在这样一种弱类型化的语言、没有单元测试代码的情况下，我根本不可能说“嗨，我修改名称X，请把相关的所有引用都改一下”…用grep命令搜索，也只能这样了，我的这段日子过的太充实了。

不知道系统什么时候就会突然崩溃，因为我也忘了去测试…

[英文原文：My very own daily WTF ]
想通过手机客户端访问开源中国：请点这里
本文转载自: 外刊IT评论 http://www.aqee.net/ 
(本站只作转载,不代表本站同意文中观点或证实文中信息)
旧一篇：JSSP —— 用 JavaScript 编写服务器端网页 4天前
新一篇：#翻译# PHP 和 Node.js 之事件驱动与意大利面 4天前
相关资讯
Nvidia 回应 Linus 的 “Fuck You”批评 7个月前
Linus 对 Nvidia 爆粗：Fuck You8个月前
回到顶部发表评论 网友评论，共 28 条
	
1楼：流风回雪 来自 iPhone 发表于 2013-02-11 07:55 回复此评论
fuck!
	
2楼：铂金便便 发表于 2013-02-11 08:10 回复此评论
fuck！！！！！
	
3楼：严瑾 来自 Android 发表于 2013-02-11 08:18 回复此评论
艹
	
4楼：DF_XYZ 发表于 2013-02-11 08:37 回复此评论
我一般说Damn :D
	
5楼：爱国者 发表于 2013-02-11 08:57 回复此评论
fuxk
	
6楼：evang 来自 Android 发表于 2013-02-11 08:59 回复此评论
fuck
	
7楼：johnzhang68 发表于 2013-02-11 09:16 回复此评论
好图。
	
8楼：刘永超 发表于 2013-02-11 09:42 回复此评论
参数名长度不能超过3个字符? 这蛋疼的限制。
	
9楼：仰望星空 发表于 2013-02-11 09:47 回复此评论
fuck.
	
10楼：rongtou 发表于 2013-02-11 09:58 回复此评论
WTF!
	
11楼：刺耳烦 发表于 2013-02-11 10:20 回复此评论
fck
（严格遵循参数名长度不超过三个字符）
	
12楼：猎户座 发表于 2013-02-11 10:24 回复此评论
不知道系统什么时候就会突然崩溃，因为我也忘了去测试…
	
13楼：火炫 发表于 2013-02-11 10:58 回复此评论
引用来自“刘永超”的评论
参数名长度不能超过3个字符? 这蛋疼的限制。
貌似后面还恶化成了“参数名长度只能是3个字符”
	
14楼：dempire 发表于 2013-02-11 11:16 回复此评论
我会说MLGBD
	
15楼：cokolin 发表于 2013-02-11 11:29 回复此评论
引用来自“流风回雪”的评论
fuck!
参数名超过三个字符串限制
	
16楼：iamxi 发表于 2013-02-11 11:34 回复此评论
这句"最初的程序员的逃离已经是亮起了红灯"是本文的中心
	
17楼：xiao# 来自 Windows Phone 发表于 2013-02-11 11:36 回复此评论
sht
	
18楼：haitao 发表于 2013-02-11 11:48 回复此评论
几个星期前的旧文了
	
19楼：hasszhao 发表于 2013-02-11 18:23 回复此评论
suck
	
20楼：影子明 发表于 2013-02-11 18:41 回复此评论
写程序 经常 用到cao
1
2
>
网名：	 (必填)
邮箱：	 (必填，不公开)
网址：	

验证码：   换另外一个图
 与内容无关的评论将被删除，严重者禁用帐号
回到顶部 回到评论列表

 
本周推荐 Discourse
Discourse 是 Stack Overflow 的联合创始人 Jeff Atwood 推出的一个新的开源论坛项目，其目的是为了改变十年未变的论坛软件。它摒弃了传统论坛的话题讨论形式、拥有自学习系统、全Web应用同时适用于桌面和移动终端。基于 Ruby on Rails 和 Ember.js 开发，数据库使用 PostgreSQL 和 Redis。


2. 远程连接管理器 mRemoteNG »
3. Java 转原生平台代码 RoboVM »
4. 自动化测试工具 Cucumber »
5. HTML5移动页面框架 Junior »
更多以往推荐 »
本周热点资讯
为什么程序员一天到晚都想说 FU...4天前
史上十大最差网站5天前
Opera 每月 3 亿人使用，将改用...昨天(18:53)
全球最大20家网站排名：中国5家...6天前
别用手机上黄网！超二成恶意移动...2天前
蛇年快乐！OSChina 向您拜年啦！...5天前
IntelliJ IDEA 获得 Jolt 2013 ...2天前
谷歌 Chrome 恶意软件通知多次误...4天前
苹果联合创始人沃兹：苹果已开始...5天前
10 个免费的网络监控工具2天前
本站最新资讯
9 个免费的云操作系统8分钟前
惠普将推出基于 Android 的移动...49分钟前
Android SDK 21.1 发布，Andro...1小时前
Zend Optimizer 源代码开源...6小时前
Decoda —— Lua 集成开发环境和...6小时前
Redis 2.6.10 发布，高性能K/V...7小时前
Postfix 2.10.0 发布，SMTP 服务...7小时前
MySQL 5.6 和 MariaDB-10.0 的性...8小时前
Parallel.js —— JavaScript 多...9小时前
【每日一博】MySQL 读写性能测试...9小时前

 
© 开源中国(OsChina.NET) | 关于我们 | 广告联系 | @新浪微博 | 开源中国手机版 | 粤ICP备12009483号-3	开源中国手机客户端：AndroidiPhoneWP7

