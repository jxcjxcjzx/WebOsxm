





冷竹

好学近乎知，知耻近乎勇
 




  博客园 :: 首页 :: 博问 :: 闪存 :: 新随笔 :: 联系 :: 订阅 :: 管理 :: 









  42 随笔 :: 0 文章 :: 7 评论 :: 0 引用 











<

2009年9月

>

 


日

一

二

三

四

五

六



30

31

1

2

3

4

5



6

7

8

9

10

11

12



13

14

15

16

17

18

19



20

21

22

23

24

25

26



27

28

29

30

1

2

3



4

5

6

7

8

9

10

 
公告
 


昵称：冷竹
园龄：4年2个月
粉丝：8
关注：0
+加关注
 


搜索
 
 

常用链接
 我的随笔
我的评论
我的参与
最新评论
我的标签
 


最新随笔
 
1. ZZ:初入职场的建议
2. 重新定义我的博客
3. Linux进程的状态和调度
4. 大端小端区别、Union和Struct的内存分配
5. WIN7 下的CSF文件播放
6. 全局变量、局部变量、静态全局变量、静态局部变量的区别
7. ZZ:C++中的虚函数
8. 转载：Autoconf和Automake学习笔记
9. 转载：Fedora 9 Samba服务器构建
10. Automake和Autoconf使用一个例子
 
随笔分类(20)
C/C++(7) 
Linux内核点滴(5) 
求职(1) 
软件应用(5) 
随笔与感想(2) 

随笔档案(42)
2009年12月 (2) 
2009年11月 (2) 
2009年10月 (1) 
2009年9月 (4) 
2009年8月 (24) 
2009年7月 (9) 

最新评论
 

1. Re:全局变量、局部变量、静态全局变量、静态局部变量的区别
博主，想问一下TIPS 中第四条是什么意思？我试了试没有错啊？--卡卡-罗特
2. Re:全局变量、局部变量、静态全局变量、静态局部变量的区别
学习了。--NumberXiao
 
阅读排行榜
 

1. 全局变量、局部变量、静态全局变量、静态局部变量的区别(8078)
2. c/c++优先级列表(5741)
3. 转载：MFC中的文件读写技术(5114)
4. Linux内核中的printf实现(4146)
5. Source Insight源代码阅读工具(3415)
 
评论排行榜
 

1. Win 7试用(2)
2. 全局变量、局部变量、静态全局变量、静态局部变量的区别(2)
3. 转载：Dll分配的内存块,应用释放的问题(1)
4. Source Insight源代码阅读工具(1)
5. Linux中的fork(1)
 
推荐排行榜
 

1. 全局变量、局部变量、静态全局变量、静态局部变量的区别(3)
2. Linux内核中的printf实现(2)
3. Copy-On-Write技术(1)
4. 大端小端区别、Union和Struct的内存分配(1)
5. Linux0.11 kernel/exit.c中的free_page_tables()(1)
 


全局变量、局部变量、静态全局变量、静态局部变量的区别



C++变量根据定义位置的不同，具有不同的作用域，作用域可分为6种：全局作用域，局部作用域，语句作用域，类作用域，命名作用域和文件作用域。
 
从作用域看：
 
全局变量具有全局作用域。全局变量只需在一个源文件中定义，就可以作用于所有的源文件。当然，其他不包括全局变量定义的源文件需要用extern关键字再次声明这个全局变量。
 
静态局部变量具有局部作用域。它只被初始化一次，自从第一次初始化直到程序与你新内阁结束都一直存在，他和全局变量的区别在于全局变量对所有的函数都是可见的，而静态局部变量只对定义自己的函数体始终可见。
 
局部变量也只有局部作用域，他是自动对象，他在程序运行期间不是一直存在，而是只在函数执行期间存在，函数的一次调用结束后，变量就被撤销，其所占用的内存也被收回。
 
静态全局变量也具有全局作用域，他与全局变量的区别在于如果程序包含多个文件的话，他作用于定义它的文件里，不能作用到其他文件里，即被static关键字修饰过的变量具有文件作用域。这样即使两个不同的源文件都定义了相同的静态全局变量，他们也是不同的变量。
 
从分配内存空间看：
 
全局变量、静态局部变量、静态全局变量都在静态存储区分配空间，而局部变量在栈分配空间。
 
全局变量本身就是静态存储方式，静态全局变量当然也是静态存储方式。这两者在存储方式上没有什么不同。区别在于非静态全局变量的作用域是整个源程序，当一个源程序由多个源文件组成时，非静态的全局变量在各个源文件中都是有效的。而静态全局变量则限制了其作用域，即只在定义该变量的源文件内有效，在同一源程序的其他源文件中不能使用它。由于静态全局变量的作用域局限于一个源文件内，只能为该源文件内的函数公用，因此可以避免在其他源文件中引起错误。
 
1、静态变量会被放在程序的静态数据存储区里，这样可以在下一次调用的时候还可以保持原来的赋值。这一点是他与堆栈变量和堆变量的区别
 
2、变量用static告知编译器，自己仅仅在变量的作用域范围内可见。这一点是他与全局变量的区别。
 
从以上分析可以看出，把局部变量改变为静态变量后是改变了他的存储方式，即改变了他的生存期。把全局变量改变为静态变量后是改变了他的作用域，限制了他的使用范围，因此static这个说明符在不同的地方起的作用是不同的。
 
TIPS：
 
1、若全局变量仅在单个文件中访问，则可以讲这个变量修改为静态全局变量。
 
2、若全局变量仅在单个函数中使用，则可以将这个变量修改为该函数的静态局部变量。
 
3、全局变量、静态局部变量、静态全局变量都存放在静态数据存储区。
 
4、函数中必须要使用static变量的情况：当某函数的返回值为指针类型时，则必须是static的局部变量的地址作为返回值，若为auto类型，则返回为错指针。

 



分类: 求职
 

绿色通道： 好文要顶 关注我 收藏该文与我联系 




冷竹
 关注 - 0
 粉丝 - 8 



+加关注 


3

0


 (请您对文章做出评价) 


« 上一篇：ZZ:C++中的虚函数
» 下一篇：WIN7 下的CSF文件播放

 
posted on 2009-09-06 16:58 冷竹 阅读(8078) 评论(2) 编辑 收藏
 




评论


#1楼2012-10-10 21:14NumberXiao  


学习了。

支持(0)反对(0)

   



#2楼2013-07-06 11:27卡卡-罗特  


博主，想问一下TIPS 中第四条是什么意思？我试了试没有错啊？

支持(0)反对(0)

   


 


刷新评论刷新页面返回顶部
 

注册用户登录后才能发表评论，请 登录 或 注册，访问网站首页。

 
博客园首页博问新闻闪存程序员招聘知识库
 





最新IT新闻:
 · 王坚卸任阿里云总裁 继续担任阿里集团CTO
 · 日本法院裁定苹果iPod侵权 赔偿330万美元
 · 腾讯电脑管家CEO离职
 · Pebble 登陆 AT&T 商店，售价 150 美元
 · 7 寸通话平板受新生市场热捧，春天来了
» 更多新闻...

最新知识库文章:

 · 张江男曲折的出国梦
 · 创业的21条军规
 · 揭开Socket编程的面纱
 · 谈工程师的价值和发展
 · 对国内云计算三个现象的思考

» 更多知识库文章... 





Powered by: 
博客园
Copyright © 冷竹 

