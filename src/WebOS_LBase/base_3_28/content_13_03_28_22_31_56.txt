百度首页|手机知道|登录注册
新闻网页贴吧知道音乐图片视频地图百科文库经验
提问

同问简述NAT的工作原理
2008-01-03 23:23zhanglang3 | 分类：互联网 | 浏览3287次
高手帮忙啊！！！
我来帮他解答
提问者采纳
2008-01-03 23:25
原理：
a，内部地址翻译（Translation inside local addresses)： 

这是比较通用的一种方法，将内部IP一对一的翻译成外部地址。 

在内部主机连接到外部网络时，当第一个数据包到达NAT路由器时，router检查它的NAT表，因为是NAT是静态配置的，故可以查询出来（simply entry），然后router将数据包的内部局部IP（源地址）更换成内部全局地址，再转发出去。外部主机接受到数据包用接受到的内部全局地址来响应，NAT接受到外部回来的数据包，再根据NAT表把地址翻译成内部局部IP，转发过去。 

b，内部全局地址复用（overloading inside glogal addresses） 

使用地址和端口pair将多个内部地址影射到比较少的外部地址。这也是所谓的PAT。和内部地址翻译一样，NAT router同样也负责查表和翻译内部IP地址，唯一的区别就是由于使用了overloading，router将复用同样的内部全局IP地址，并存储足够的信息以区分它和其他地址，这样查询出来的是extended entry。NAT router和外部主机的通讯采用翻译过的内部全局地址，故同一般的通信没有差别，router到内部主机通讯时，同样要查NAT表。 

c，TCP负载重分配（TCP load distributing）和以上两种操作不同，这是NAT由外到内的翻译，所以那种以为WEB server一定要放置到 

NAT外部的说法是错误的。 

工作原理：外部主机向虚拟主机（定义为内部全局地址）通讯，NAT router接受外部主机的请求并依据NAT表建立与内部主机的连接，把内部全局地址（目的地址）翻译成内部局部地址，并转发数据包到内部主机，内部主机接受包并作出响应。NAT router再使用内部局部地址和端口查询数据表，根据查询到的外部地址和端口做出响应。 

此时，如果同一主机再做第二个连接，NAT router将根据NAT表将建立与另一虚拟主机的连接，并转发数据。 

d，处理重叠网络。 

这种方法主要用于两个intranet的互连，同样给我们处理两个重叠网络提供了方法。它的实现要求DNS server的支持（用于区别两个不同的主机）。 

1，主机A要求向主机C建立连接，先象DNS server做地址查询。 

2，NAT router截获DNS的响应，如果地址有重叠，将翻译返回的地址。它将创建一个simply entry把重叠的外部全局地址（目的地址）翻译成外部局部地址。 

3，路由器转发DNS响应到主机A，它已经把主机C的地址（外部全局地址）翻译成外部局部地址。 

4，当路由器接受到主机C的数据包时，它将建立内部局部、全局，外部全局、局部地址间的转换，主机A将由内部局部地址（源地址）翻译成内部全局地址，主机C将由外部全局地址（目的地址）翻译成外部局部地址。 

5，主机C接受数据包并继续通讯。
提问者评价
谢谢了！
评论|3

strangern |十四级采纳率27%
擅长：互联网电脑/网络度假旅游操作系统/系统故障网络连接
按默认排序|按时间排序
其他1条回答
2008-01-03 23:25yahao520|五级
NAT的工作原理:外部主机向虚拟主机（定义为内部全局地址）通讯，NAT router接受外部主机的请求并依据NAT表建立与内部主机的连接，把内部全局地址（目的地址）翻译成内部局部地址，并转发数据包到内部主机，内部主机接受包并作出响应。3，路由器转发DNS响应到主机A，它已经把主机C的地址（外部全局地址）翻译成外部局部地址。4，当路由器接受到主机C的数据包时，它将建立内部局部、全局，外部全局、局部地址间的转换，主机A将由内部局部地址（源地址）翻译成内部全局地址，主机C将由外部全局地址（目的地址）翻译成外部局部地址。
评论|1
其他类似问题
2010-06-26 NAT的作用是什么？它用在什么场合？简述它的工作原理。  3
2006-03-19 NAT的工作原理  14
2012-01-04 NAT的工作原理什么  3
2011-01-17 简述CIDR技术与NAT技术的区别。  5
2011-12-11 简述NAT技术？
更多关于NAT原理的问题>>
相关知识
nat:原理 nat:工作 nat:意思 nat:配置
2011-09-02 虚拟机的NAT的原理  4
2011-08-07 反向nat的原理
等待您来回答
0回答边个知道click入黄金屋第十集那首好听钢琴曲的名字
0回答 20 织梦网站上传空间后，生成文件时某栏目下文件超过一定数值就列表生...
0回答我想进入联想集团，做销售业务工作，谁能帮帮我啊，帮我引荐一下啦...
0回答动物世界 讲狮子跟鬣狗，狮群两头雄狮，弟弟很凶猛，最后从灌草丛中...
0回答 10 找一个网上兼职，适合宅在家里的家庭主妇，或者待业的朋友，或者上...
0回答 20 手机下载微信如何操作 
0回答公布一个骗子网站513vpn.cn 冒充513官网的，希望大家别上当
0回答 10 主角是重生的 要会冰属性异能 都市
更多等待您来回答的问题>>
分享到：
普通登录
手机登录
帐号
密码
记住我的登录状态
忘记密码？

还没有百度账号？立即注册


来百度推广互联网



精彩知识在知道
知识风暴！知道商城好书特惠月！
中国打假“第一人”，教你混社会不吃亏。
跳槽前必读，不看就后悔！
HR不懂爱，他的提问你答不来！
帮助 | 反馈建议 | 投诉举报 | 百度知道免费代码
©2013 Baidu   使用百度前必读 | 知道协议 | 百度知道开放平台
