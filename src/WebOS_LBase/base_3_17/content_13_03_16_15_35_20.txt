  搜狐首页 - 新闻 - 体育 - 娱乐 - 财经 - IT - 汽车 - 房产 - 女人 - 短信 - 彩信 - 校友录 - 邮件 - 搜索 - BBS - 搜狗  
 
 
 
搜狐首页 >> 搜狐IT >> 数码天下 >> 网狐教程-搜狐IT >> 实用技巧-网狐教程-搜狐IT >> 操作系统 >> Linux >> Linux系统教程   
 
 
Linux的Shell编程 
 
 
IT.SOHU.COM　 2004-06-09 16:46　 转自： 赛迪网  
页面功能 【我来说两句】【我要“揪”错】【推荐】【字体：大 中 小】【打印】 【关闭】 
 
 
 

第1页:Shell基本语法第2页:Shell程序设计的流程控制第3页:运行Shell程序的方法第4页:bash的内部命令


　　 运行Shell程序的方法

　　用户可以用任何编辑程序来编写Shell程序。因为Shell程序是解释执行的，所以不需要编译成目的程序。按照Shell编程的惯例，以bash为例，程序的第一行一般为“#！/bin/bash”，其中 # 表示该行是注释，叹号 ！ 告诉Shell运行叹号之后的命令并用文档的其余部分作为输入，也就是运行/bin/bash并让/bin/bash去执行Shell程序的内容。

　　执行Shell程序的方法有3种。

　　1．sh Shell程序文件名

　　这种方法的命令格式为：

　　bash Shell程序文件名

　　这实际上是调用一个新的bash命令解释程序，而把Shell程序文件名作为参数传递给它。新启动的Shell将去读指定的文件，可执行文件中列出的命令，当所有的命令都执行完后结束。该方法的优点是可以利用Shell调试功能。

　　2．sh

　　格式为：

　　bash< Shell程序名

　　这种方式就是利用输入重定向，使Shell命令解释程序的输入取自指定的程序文件。

　　3．用chmod命令使Shell程序成为可执行的

　　一个文件能否运行取决于该文档的内容本身可执行且该文件具有执行权。对于Shell程序，当用编辑器生成一个文件时，系统赋予的许可权都是644(rw-r-r--)，因此，当用户需要运行这个文件时，只需要直接键入文件名即可。

　　在这3种运行Shell程序的方法中，最好按下面的方式选择：当刚创建一个Shell程序，对它的正确性还没有把握时，应当使用第一种方式进行调试。当一个Shell程序已经调试好时，应使用第三种方式把它固定下来，以后只要键入相应的文件名即可，并可被另一个程序所调用。

　　4．bash程序的调试

　　在编程过程中难免会出错，有的时候，调试程序比编写程序花费的时间还要多，Shell程序同样如此。

　　Shell程序的调试主要是利用bash命令解释程序的选择项。调用bash的形式是：

　　bash -选择项Shell程序文件名

　　几个常用的选择项是：

　　-e 如果一个命令失败就立即退出。

　　-n 读入命令但是不执行它们。

　　-u 置换时把未设置的变量看做出错。

　　-v 当读入Shell输入行时把它们显示出来。

　　-x 执行命令时把命令和它们的参数显示出来。

　　上面的所有选项也可以在Shell程序内部用“set -选择项”的形式引用，而“set +选择项”则将禁止该选择项起作用。如果只想对程序的某一部分使用某些选择项时，则可以将该部分用上面两个语句包围起来。

　　（1）未置变量退出和立即退出

　　未置变量退出特性允许用户对所有变量进行检查，如果引用了一个未赋值的变量就终止Shell程序的执行。Shell通常允许未置变量的使用，在这种情况下，变量的值为空。如果设置了未置变量退出选择项，则一旦使用了未置变量就显示错误信息，并终止程序的运行。未置变量退出选择项为-u。

　　当Shell运行时，若遇到不存在或不可执行的命令、重定向失败或命令非正常结束等情况时，如果未经重新定向，该出错信息会显示在终端屏幕上，而Shell程序仍将继续执行。要想在错误发生时迫使Shell程序立即结束，可以使用-e选项将Shell程序的执行立即终止。

　　（2）Shell程序的跟踪

　　调试Shell程序的主要方法是利用Shell命令解释程序的-v或-x选项来跟踪程序的执行。-v选择项使Shell在执行程序的过程中，把它读入的每一个命令行都显示出来，而-x选择项使Shell在执行程序的过程中把它执行的每一个命令在行首用一个+加上命令名显示出来。并把每一个变量和该变量所取的值也显示出来。因此，它们的主要区别在于：在执行命令行之前无-v，则显示出命令行的原始内容，而有-v时则显示出经过替换后的命令行的内容。

　　除了使用Shell的-v和-x选择项以外，还可以在Shell程序内部采取一些辅助调试的措施。例如，可以在Shell程序的一些关键地方使用echo命令把必要的信息显示出来，它的作用相当于C语言中的printf语句，这样就可以知道程序运行到什么地方及程序目前的状态。

上一页 [1] [2] [3] [4] 下一页  
 
 
  
 
 
 
 
页面功能 【我来说两句】【我要“揪”错】【推荐】【字体：大 中 小】【打印】 【关闭】 
 


 
 
■相关链接 
 
 
 
  

 ■ 我来说两句 
用　　户：        匿名发出： 
 
请各位遵纪守法并注意语言文明。 
 
 
　 
 
*经营许可证编号：京ICP00000008号 
*《互联网电子公告服务管理规定》 
*《全国人大常委会关于维护互联网安全的规定》  
 
 
       
   
 
短信内容： 
锦瑟无端五十弦,一弦一度思华年.庄生晓梦迷蝴蝶,望帝春心托杜鹃.沧海月明珠有泪,蓝田日暖玉生烟.此情可待成追忆  
 
手 机   
 
自写包月5分钱/条 更多>> 
 
搜狐天气为你抢先报！ 魔力占卜姻缘一线牵！ 
 
金币不是赚的是抢的！ 爱情玄机任由你游戏！ 
 
猪八戒这样泡到紫霞！ 帅哥一定要看的宝典！ 
 
你受哪颗星星的庇护？ 萨达姆最新关押照片！ 
 
 
 
  
 
 
精彩彩信：  
 
 
  
  
  
 
[和弦]欧若拉 一生有你  
 沧海一声笑 
[音效]挪威的森林  
 
 
 和弦 音效 图片 动画 
 
爆铃 MP3 G点图 动画： 
 
 
  
 
[和弦]童话 你到底爱谁 
[原唱]一千年以后 断点 
[爆笑音效]赚钱拉 野花 
[串烧]张韶涵 潘玮柏 
 
 
 和弦 音效 图片 动画 
 
精彩短信： 
 
 
 
 
[和弦]小薇 好心分手 
[音效]当当当当 忘记 
 
 
 和弦 音效 图片 动画 
 
 

 

 搜狐商城 
  
 
  
·家电|品牌风扇新品热销 
·音乐|秦海璐幸福回味 
·图书|《眼镜蛇事件》 
更多... 
 
 
 
 


--------------------------------------------------------------------------------
 
ChinaRen - 搜狐招聘 - 网站登录 - 帮助中心 - 设置首页 - 广告服务 - 联系方式 - 保护隐私权 - About SOHU - 公司介绍
Copyright © 2005 Sohu.com Inc. All rights reserved. 搜狐公司 版权所有  



