  搜狐首页 - 新闻 - 体育 - 娱乐 - 财经 - IT - 汽车 - 房产 - 女人 - 短信 - 彩信 - 校友录 - 邮件 - 搜索 - BBS - 搜狗  
 
 
 
搜狐首页 >> 搜狐IT >> 数码天下 >> 网狐教程-搜狐IT >> 实用技巧-网狐教程-搜狐IT >> 操作系统 >> Linux >> Linux系统教程   
 
 
Linux的Shell编程 
 
 
IT.SOHU.COM　 2004-06-09 16:45　 转自： 赛迪网  
页面功能 【我来说两句】【我要“揪”错】【推荐】【字体：大 中 小】【打印】 【关闭】 
 
 
 

第1页:Shell基本语法第2页:Shell程序设计的流程控制第3页:运行Shell程序的方法第4页:bash的内部命令


　　其实作为命令语言互动式地解释和执行用户输入的命令只是Shell功能的一个方面，Shell还可以用来进行程序设计，它提供了定义变量和参数的手段以及丰富的程序控制结构。使用Shell编程类似于DOS中的批处理文件，称为Shell script，又叫Shell程序或Shell命令文件。

　　 Shell基本语法

　　像高级程序设计语言一样，Shell也提供说明和使用变量的功能。对Shell来讲，所有变量的取值都是一个字串，Shell程序采用$var的形式来引用名为var的变量的值。

　　Shell有以下几种基本类型的变量。

　　（1）Shell定义的环境变量：

　　Shell在开始执行时就已经定义了一些和系统的工作环境有关的变量，用户还可以重新定义这些变量，常用的Shell环境变量有：

　　HOME 用于保存注册目录的完全路径名。

　　PATH 用于保存用冒号分隔的目录路径名，Shell将按PATH变量中给出的顺序搜索这些目录，找到的第一个与命令名称一致的可执行文件将被执行。

　　TERM 终端的类型。

　　UID 当前用户的识别字，取值是由数位构成的字串。

　　PWD 当前工作目录的绝对路径名，该变量的取值随cd命令的使用而变化。

　　PS1 主提示符，在特权用户下，默认的主提示符是#，在普通用户下，默认的主提示符是$。

　　PS2 在Shell接收用户输入命令的过程中，如果用户在输入行的末尾输入“\”然后回车，或者当用户按回车键时Shell判断出用户输入的命令没有结束时，就显示这个辅助提示符，提示用户继续输入命令的其余部分，默认的辅助提示符是>。

　　（2）用户定义的变量：

　　用户可以按照下面的语法规则定义自己的变量：

　　变量名=变量值

　　要注意的一点是，在定义变量时，变量名前不应加符号$，在引用变量的内容时则应在变量名前加$；在给变量赋值时，等号两边一定不能留空格，若变量中本身就包含了空格，则整个字串都要用双引号括起来。

　　在编写Shell程序时，为了使变量名和命令名相区别，建议所有的变量名都用大写字母来表示。

　　有时我们想要在说明一个变量并对它设置为一个特定值后就不在改变它的值时，可以用下面的命令来保证一个变量的只读性：

　　readonly 变量名

　　在任何时候，创建的变量都只是当前Shell的局部变量，所以不能被Shell运行的其他命令或Shell程序所利用，而export命令可以将一个局部变量提供给Shell执行的其他命令使用，其格式为：

　　export 变量名

　　也可以在给变量赋值的同时使用export命令：

　　export 变量名=变量值

　　使用export说明的变量，在Shell以后运行的所有命令或程序中都可以访问到。

　　（3）位置参数：

　　位置参数是一种在调用Shell程序的命令行中按照各自的位置决定的变量，是在程序名之后输入的参数。位置参数之间用空格分隔，Shell取第一个位置参数替换程序文件中的$1，第二个替换$2，依次类推。$0是一个特殊的变量，它的内容是当前这个Shell程序的文件名，所以，$0不是一个位置参数，在显示当前所有的位置参数时是不包括$0的。

　　（4）预定义变量：

　　预定义变量和环境变量相类似，也是在Shell一开始时就定义了的变量。所不同的是，用户只能根据Shell的定义来使用这些变量，而不能重定义它。所有预定义变量都是由$符和另一个符号组成的，常用的Shell预定义变量有：

　　$# 位置参数的数量。

　　$* 所有位置参数的内容。

　　$? 命令执行后返回的状态。

　　$$ 当前进程的进程号。

　　$! 后台运行的最后一个进程号。

　　$0 当前执行的进程名。

　　其中，$?用于检查上一个命令执行是否正确。（在Linux中，命令退出状态为0表示该命令正确执行，任何非0值表示命令出错。）

　　$$变量最常见的用途是用做暂存文件的名字以保证暂存文件不会重复。

　　（5）参数置换的变量：

　　Shell提供了参数置换功能以便用户可以根据不同的条件来给变量赋不同的值。参数置换的变量有4种，这些变量通常与某一个位置参数相联系，根据指定的位置参数是否已经设置类决定变量的取值，它们的语法和功能分别如下。

　　a. 变量=${参数-word}：如果设置了参数，则用参数的值置换变量的值，否则用word置换。即这种变量的值等于某一个参数的值，如果该参数没有设置，则变量就等于word的值。

　　b. 变量=${参数=word}：如果设置了参数，则用参数的值置换变量的值，否则把变量设置成word，然后再用word替换参数的值。注意，位置参数不能用于这种方式，因为在Shell程序中不能为位置参数赋值。

　　c. 变量=${参数？word}：如果设置了参数，则用参数的值置换变量的值，否则就显示word并从Shell中退出，如果省略了word，则显示标准信息。这种变量要求一定等于某一个参数的值。如果该参数没有设置，就显示一个信息，然后退出，因此这种方式常用于出错指示。

　　d. 变量=${参数+word}：如果设置了参数，则用word置换变量，否则不进行置换。

　　所有这4种形式中的“参数”既可以是位置参数，也可以是另一个变量，只是用位置参数的情况比较多。

[1] [2] [3] [4] 下一页  
 
 
  
 
 
 
 
页面功能 【我来说两句】【我要“揪”错】【推荐】【字体：大 中 小】【打印】 【关闭】 
 


 
 
■相关链接 
 
 
 
  

 ■ 我来说两句 
用　　户：        匿名发出： 
 
请各位遵纪守法并注意语言文明。 
 
 
　 
 
*经营许可证编号：京ICP00000008号 
*《互联网电子公告服务管理规定》 
*《全国人大常委会关于维护互联网安全的规定》  
 
 
       
   
 
短信内容： 
锦瑟无端五十弦,一弦一度思华年.庄生晓梦迷蝴蝶,望帝春心托杜鹃.沧海月明珠有泪,蓝田日暖玉生烟.此情可待成追忆  
 
手 机   
 
自写包月5分钱/条 更多>> 
 
搜狐天气为你抢先报！ 魔力占卜姻缘一线牵！ 
 
金币不是赚的是抢的！ 爱情玄机任由你游戏！ 
 
猪八戒这样泡到紫霞！ 帅哥一定要看的宝典！ 
 
你受哪颗星星的庇护？ 萨达姆最新关押照片！ 
 
 
 
  
 
 
精彩彩信：  
 
 
  
  
  
 
[和弦]欧若拉 一生有你  
 沧海一声笑 
[音效]挪威的森林  
 
 
 和弦 音效 图片 动画 
 
爆铃 MP3 G点图 动画： 
 
 
  
 
[和弦]童话 你到底爱谁 
[原唱]一千年以后 断点 
[爆笑音效]赚钱拉 野花 
[串烧]张韶涵 潘玮柏 
 
 
 和弦 音效 图片 动画 
 
精彩短信： 
 
 
 
 
[和弦]小薇 好心分手 
[音效]当当当当 忘记 
 
 
 和弦 音效 图片 动画 
 
 

 

 搜狐商城 
  
 
  
·家电|品牌风扇新品热销 
·音乐|秦海璐幸福回味 
·图书|《眼镜蛇事件》 
更多... 
 
 
 
 


--------------------------------------------------------------------------------
 
ChinaRen - 搜狐招聘 - 网站登录 - 帮助中心 - 设置首页 - 广告服务 - 联系方式 - 保护隐私权 - About SOHU - 公司介绍
Copyright © 2005 Sohu.com Inc. All rights reserved. 搜狐公司 版权所有  



