网易 
博客 
发现
小组
风格
 
网易真人搭配社区iStyle
创建博客登录  加关注
雪碧
幸运创业——www.luckcy.com
首页
日志
相册
音乐
收藏
博友
关于我
  
日志
  
liuxiang
  加博友   关注她
 她的网易微博
最新日志
Apache ftpServer的安装与配
HDFS QUOTAS 设定
hdfs-over-ftp安装与配置
centOS下安装mysql
软件开发中常见的十大系统瓶
定向抓取漫谈
随机阅读
刘思敏：携程推出海外酒店预订新平台 艺龙去哪儿网或将跟进
国际金融城要与珠江新城协调金融功能
现代京剧《沙家浜》的来龙去脉（下）
李明博登独岛：他在追求什么？
及时支付稿费是最有效的催稿方式
叙利亚“马蜂窝”被捅后走势
首页推荐
中国是个爱好嫖娼的民族
孙中山与'黑社会'的关系
中国国家主席职位曾取消
女性手淫过度后身体变化
日本间谍从抗日片探情报
王晓渔：两会比春晚欢乐
更多>>



 参考文献中的标点符号 中文化和国际化问题权威解析之一：字符编码发展历程
Unix管道技术  

2010-09-16 16:52:32|  分类： 计算机 |字号 订阅
管道是Unix操作系统最强大和最具特色的性能之一，从功能上讲，管道机制提供了一种在各进程之间大量传输信息的通道；而从本质上讲，管道是一个特殊的文件。管道是以Unix文件系统为基础而设计的，它具有对普通文件操作的一般特性，如用于普通文件的打开（OPEN）、读（READ）、写（WRITE）、关闭（CLOSE）等系统调用同样可以作用于管道。
Unix操作系统下的管道分为无名管道（PIPE）和有名管道（FIFO）两种，它们在不同的领域下有效地完成了相关进程之间的数据共享和信息交换，从而保证了进程间的协同工作。与Unix系统提供的其他进程通信机制，如信号（SIGNAL）、消息传送（MESSAGE PASSING）、共享内存（SHARED MEMORY）等相比，管道机制具有如下三个突出的特点：
（1）发送进程能以比较简单的方式，源源不断地把产生的消息以自然流的方式写入管道，而不需要考虑对每次传送的信息长度的限制。
（2）接收进程能在适当的时机从管道按需提取信息，同样也不必以固定的消息长度为单位进行。
（3）发送和接收进程都能以一定的方式了解对方进程是否存在，并且可以通过管道的现存消息情况（管道空、管道有信息、管道满）等相互协调动作。

无名管道（PIPE）
无名管道是一个特殊的打开文件，只能在程序中由系统调用PIPE（P）生成。其中参数P的定义为：
INT P[2]；
无名管道由一个在基本文件系统存储设备上的INODE，一个与其相连的内存INODE，两个打开文件控制块（分别对应管道的信息发送端和信息接收端）及其所属进程的描述信息来标识，在系统执行PIPE（P）命令行之后生成。在P[0]中返回管道的读通道打开文件描述符；在P[1]中返回管道的写通道打开文件描述符。从结构上看，无名管道没有文件路径名，不占用文件目录项，因此文件目录结构中的链表不适用于这种文件，它只是存在于打开文件结构中的一个临时文件，随其所依附的进程的生存而生存，当进程终止时，无名管道也随之消亡。

有名管道（FIFO）
无名管道存在着如下两个严重的缺点：
第一、无名管道只能用于连接具有共同祖先的进程；
第二、无名管道是依附进程而临时存在的，并不是永久存在于系统中。
为了弥补无名管道的不足，伴随Unix SYSTEM III的出台推出了一种无名管道的变种——有名管道，它常被称为FIFO。有名管道除继承了无名管道的所有特性优点之外，还摒弃了无名管道的两个缺点。首先，FIFO是一种永久性的机构，它具有普通的Unix系统文件名。在系统下可利用MKNOD命令建立永久的管道，除非刻意删除它，否则它将一直保持在系统中。其次，正是由于有名管道以文件名来标识，所以只要事先约定某一特定文件名，那样所有知道该约定的服务进程，不论它们之间是否有亲属关系，都可以方便地利用管道进行通信。
FIFO有两种建立方式。
在系统命令级建立FIFO：
$/ETC/MKNOD    FIFO    P
其中参数P用以标识建立一个管道特殊文件。
在程序中建立FIFO：
MKNOD（“FIFO”，010600，0）；
其中八进制数“010600”用以标识建立一个FIFO文件。
FIFO 和无名管道在系统内核层合用了大量的代码段，它的读、写流程与无名管道的读、写流程基本一致。值得注意的是，Unix系统规定，为了资源利用的合理性，如果没有进程在某FIFO用于写之前打开时，有进程先打开FIFO用于读的话，那样该读进程将被阻塞，直到有另一个进程打开该FIFO用于写，反之亦然。解决这一问题的最好方法是推出一个后台进程将该FIFO以读、写双重的方式打开操作。

转载于http://hi.baidu.com/tiankui6658/blog/item/2193c8fb4e942b2e4f4aea93.html

分享到：        阅读(121)| 评论(0)| 转载 (0) |举报
 参考文献中的标点符号 中文化和国际化问题权威解析之一：字符编码发展历程
历史上的今天
世界第一对联2008-09-16 17:43:13
最近读者
登录后，您可以在此留下足迹。 
老虎他爹
  
ying_hex
  
yaqifly
  
心随我动
评论
点击登录|昵称：

 
  
  
 
公司简介 - 联系方法 - 招聘信息 - 客户服务 - 隐私政策 - 博客风格 - 手机博客 - VIP博客 - 订阅此博客
网易公司版权所有 ©1997-2013


水中SPA身体极度扭曲
刘涛爆老公嗑药尿失禁目的
新总理能否让房价降下来？
中国总理的权利有多大主席没有'实权'
'独立王国'铁道部的兴衰史
中国环境污染对邻国的影响
红色高棉70年代屠杀百万人
口述：越共西贡女杀手往事
