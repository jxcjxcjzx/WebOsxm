用户名:密码:
   首页| 论坛| 博客| Datasheet| 白皮书| 电路图| 专题      技术： 模拟 单片机 LED FPGA 半导体 电源 嵌入式 DSP 传感器 应用： 汽车电子 工控电子 家用电子 手机便携 安防电子 医疗电子 网络通信 测试测量 
工业控制体验Cyclone V 评估板，赢取价值500元礼品！传感器/仪表| 信息处理| 嵌入式系统| PLC| 传动与执行| 工业通讯| 工控设备| 其它技术| 综合资讯| 智能电网| 节能减排| 工控百科| 工控论坛| 
电子工程世界首页 >>工业控制 >> 工控设备 >> 
开放式可编程控制器的设计 
2011-06-26 11:04:23   来源:互联网   
 
目前，国内用户选用的可编程控制器(PLC)仍以国外产品为主，造成这种局面的一个重要原因是欧、美、日等发达工业国家掌握了高端PLC的核心技术，其硬软件技术对应用者来说完全是封闭的，使用者只能从应用的角度学习PLC，而不能参与PLC的开发[1-2]。近年来，IEC61131-3国际标准的颁布和实施为各PLC生产厂家提供了统一的软件开发准则，开放的高性能单片机技术的发展，为硬件开发提供了有效的物质基础[3]。在这样的背景下，研制开放的PLC系统无论对于科学研究还是促进PLC行业的发展都有积极的现实意义。
　PLC是一种专用于工业控制的计算机，其硬件主要由中央处理器、存储器、输入/输出接口等组成[4]，其硬件结构如图1所示。



1 开放式可编程控制器
　开放式PLC硬件结构采用CPU+外围模块+接口构成，各个接口都按标准设计，大大提高了PLC的开放性，使其能方便地与大系统连接。编程语言遵循国际标准IEC61131-3，并将基于PC的编程软件作为PLC首选编程工具。系统硬件部分采用高性能51内核处理器STC89C51，其为模块化设计，采用滤波、隔离电路，以降低成本。主要电路有：微控制器STC89C51RC、开关量输入电路、继电器输出电路、晶体管输出电路、RS232通信接口电路、电源电路、时钟复位电路和USB通信接口电路等，PLC硬件系统框图如图2所示，软件采用Borland公司集成开发软件C++ Builder，通过集成平台对51内核处理器指令集进行解释、编译，使梯形图语言转换为能被51内核处理器识别的代码。



2 系统硬件设计
　可编程控制器单片机部分电路图如图3所示。



　USB通信部分选择Philips公司的PDIUSBD12[5]芯片作为系统的USB接口器件，片内集成了高性能USB接口电路、SIE、FIFO存储器、收发器以及电压调整器等，可与任何外部控制器或微处理器实现高速并行通信，其速率为2 Mb/s，完全能够满足设计所要求的数据传输速度。USB通信接口模块电路如图4所示。



3 系统软件设计
　系统软件结构如图5所示。图中，系统编辑模块为用户提供编辑环境，接收用户的梯形图程序输入，并将其存储为相应的文件。梯形图语言为一种图形语言，要直接对其进行编译十分困难，因此并不是直接对梯形图程序进行编译，而是先将其翻译成指令语言的文本形式，再对指令语言进行编译。图形语言编译问题的解决，提高了代码的利用率[6-7]。通过提取数据结构中的数据，形成C语言程序文件，经过C51编译器、连接器、转换器的编译、连接、转换过程，生成能够在PLC硬件上运行的可执行文件。



3.1 用户界面
　PLC用户界面是实现可编程人机交互的重要部分，它以梯形图语言的形式录入用户控制程序，以二进制形式通过串口下载到PLC硬件，其梯形图表示的用户编程区如图6所示。



　PLC在进行逻辑运算之前，必须对外部信号进行采样[8]，若要实现指令的功能，首先要设置外部I/O在梯形图中的地址，系统才能够对用户程序中所使用的I/O地址与单片机的引脚地址相匹配。本设计在I/O设置对话框底层设计了如表1所示的数据处理函数。
3.2 USB通信
　PDIUSBD12的固件设计成完全的中断驱动，当CPU处理前台任务时，USB的传输可在后台进行；后台中断服务程序和前台主程序循环之间的数据交换可以通过事件标志和数据缓冲区来实现。当PDIUSBD12从USB收到一个数据包，即对CPU产生一个中断请求，CPU立刻响应中断。在中断服务程序中，固件将数据包从PDIUSBD12内部缓冲区移到循环数据缓冲区，并将PDIUSBD12的内部缓冲区清零，以便接收新的数据包，使CPU可以继续执行当前的前台任务直到完成。本文利用PDIUSBD12的端点1进行命令的传输和应答，端点1每次接收计算机发送过来的8 B指令，其指令格式如表2所示。例如，接收到十六进制码52 01 00 03 00 07 00 50，表示读24C01器件从03字节开始的7个字节的数据。52H为R的ASCII码，57H为W的ASCII码。端点2用于数据的传输。
　本文在了解PLC国内外研究状况以及其市场需求的基础上，提出了研发开放式PLC的概念，完成了PLC集成开发系统的C51模块实现方案的设计，将USB通信方式引入PLC领域，所设计的梯形图编辑器提供了梯形图编辑平台，实现了PLC的基本逻辑指令，完成计算机与控制器的USB通信。
参考文献
[1] 杨锦尊.可编程控制器的特点及其发展动向[J].现代电子技术，2007(14)：1-2.
[2] 廖常初.PLC的发展趋势[J].电气时代，2003(12)：54-56.
[3] ARC. China developing strategic strength in PLC market [J].Plant Engineering， 2008， 62(1)：14.
[4] 陈立定，吴玉香，苏开才.电气控制与可编程控制器[M].广州：华南理工大学出版社，2003.
[5] 周立功.PDIUSBD12 USB固件编程和驱动开发[M].北京：北京航空航天大学出版社，2006.
[6] 藏国杰.可编程人机交互系统的研究和开发[D].杭州：浙江大学，2006.
[7] 郭福帅.基于IEC61131标准的可编程控制器研究和实现[D].大连：大连理工大学，2006.
[8] 齐中伟.通用PLC仿真与图形编程系统[J].机电工程，1998，15(1)：24-26.

分享到： 编辑：eeleader 
本文引用地址： http://www.eeworld.com.cn/gykz/2011/0626/article_6894.html 
[发表评论] [加入收藏] [告诉好友] [打印本页] [关闭窗口] [返回顶部] [RSS订阅] 上一篇：MTK6225手机平台的无线远传燃气抄表系统
下一篇：太阳能热水器自动温度控制器设计
发表评论


验证码： *
 
  
免责声明:以上内容凡注明署名的，其版权属于署名者所有，转载请注明署名。本网未注明来源EEWORLD之稿件均为转载稿，如本网转载涉及版权等问题，请作者速来电或发邮件与EEWORLD联系，我们将在第一时间删除。
请遵守《互联网电子公告服务管理规定》及中华人民共和国其他各项有关法律法规。 
严禁发表危害国家安全、损害国家利益、破坏民族团结、破坏国家宗教政策、破坏社会稳定、侮辱、诽谤、教唆、淫秽等内容的评论 。
用户需对自己在使用本站服务过程中的行为承担法律责任（直接或间接导致的），本站管理员有权保留或删除评论内容。
小广播 DIY出你心中的“ADI实验室电路”！ 
活动时间：即日起-2012年12月16日！！！【TI 教室】学电源，晒成绩，挖楼有礼！ 
认真学习“电源基础培训系列课程”课件，并考试，即有资格参与活动。 VISHAY工业电源主题月 幸运闯关赢大奖！ 
活动时间：即日起-2012年12月31日！！！Arrow照明研讨会！ 
感受Cree与艾睿电子带给你的电流时光！！！2012年12月13日PSOC World与您相聚！ 
参加和完成问卷调查，你将有机会赢得iPad miniDSP-Sitara精品课程上线！ 
认真学习德州仪器Sitara培训课程，并考试。 最热点击iRobot公司：家用机器人不再遥远 联发科第三代Android处理器芯发布 中控——浙大走出的流程工业自动化“集团军” 控创开发Tegra 2单板电脑，ARM抢滩工控正当时 那些年，我们一起追的手机操作系统 新时达——电梯背后的“中国动力” “研华杯”2012高校物联网创新创业大赛即将开始 发、输、配、用，ADI全程技术支持 ADI将继续加大工业应用方案扩展 基于ARM的嵌入式Linux开发平台构建 专栏向农，EEWORLD副总编。被英特尔董事长贝瑞特称为“中国可与之对话的两名记者之一” 
【详细】

总编随笔 汤宏琳，人皆称为“汤汤”，电子工程世界高级编辑。随着EEWORLD一起成长。 
【详细】

汤汤手记 今年，是中国集成电路产业丰收的一年，相比较往年都有大幅提升。 
【详细】

凯哥博客 论坛精华讨论一下:检测铝材料，用什么开关好... 
PLC精品课程(解密版).pdf 
Vehicle Spy 3 与CANOE的对比 
场效应管1N60.FL1N60 
WindowsXP作为POWERLINK主站的配置 
精选博文stm32 StartUp文件选择 
应用8010高功率器件测试夹具 
小实验——无刷电机驱动 
开始学习嵌入式-友善Tiny641 
随想 
Loading
