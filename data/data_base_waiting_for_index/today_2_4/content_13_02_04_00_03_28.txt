软件测试门户软件测试文库开源测试资源软件测试工具软件测试论坛软件测试微博
文章资料首页|行业资讯|业务知识|软件测试技术|项目管理|软件测试管理|软件测试工具|软件开发专栏|软件测试下载|软件测试试题|专题文章

您的位置：软件测试 >> 测试技术 >> 软件测试技术
  
以自动化测试撬动维护阶段的遗留系统
作者：网络转载 发表于：[ 2013/1/24 13:43:43 ]
　　面对遗留系统，选择合适的测试策略，能让自动化测试的投入在一定时期内看到效果，并且建立可持续进行的机制。同为自动化测试，每种测试在面对遗留系统时遇到的挑战是不同的，起到的效果也不尽相同。
　　背景
　　我目前所服务的企业大部分系统是遗留系统，其中多数处于相对需求平稳阶段，即需求并不多，也没有大需求。但这些系统牵制了和需求所需人力不成比例的大量人力，从系统本身的原因看，有这么几点。
　　系统晦涩难懂，可读性可理解性很差。理解原有系统往往占据了进行一个修改的大部分时间。
　　系统设计僵化，改动困难，一个小修改，会迫使系统很多部分的改动。
　　系统难以重用，大多软件单元缺乏可重用性。
　　系统脆弱，引入一个小功能会引入几个缺陷，修复一个缺陷又引起几个新缺陷。
　　投入大量人力，产生的价值却微乎其微。面对激烈的市场，同质化的竞争，成本和质量问题日益凸显。而所谓遗留系统，即没有自动化测试保护的系统。客户很希望通过引入“自动化测试”来提升系统质量，最终帮助他们建立自动化测试机制。
　　过去几个月里，我先后投入到几个遗留系统的自动化测试提升工作中。这些工作都进展不错，很多系统的核心模块都有了自动化测试的覆盖。另外，这次专门针对“遗留系统”所做的自动化测试工作，也带给我一些新想法：自动化测试，很可能是我们撬动遗留系统的一个支点。
　　测试策略选择
　　图1是测试金字塔模型，从上至下分别是验收测试、API测试、集成测试和单元测试。你可以有不一样的分类，但从上至下，测试粒度越来越小，测试数量越来越多。一个具备完善自动化测试的系统，应该具备类似的测试分布。

 　　图1 测试金字塔模型
　　当我们面对的是遗留系统时，追求理想模型肯定是不现实的，那么应该选择何种测试策略呢?
　　每 个遗留系统的状况都不尽相同，可能选择的策略也会不一样。但有一点是一致的——所有的测试都不是没有成本的，在人力并不宽裕的情况下，必须让测试投入“值 回票价”。而且，必须让测试投入到短期最有价值的地方，才能让团队尽快看到效果和建立信心。我们选择的策略之一是：快速建立稳定性较高的功能测试防护墙， 以此保护系统的核心功能不被任意破坏。这里有两个关键点。
　　快速，要选择可以快速建立的测试，让一定的价值在短期之内就能得到体现。
　　稳定，指的是测试本身的稳定——不因系统变化而对测试产生太大的冲击，因而维护成本也就相对较低。
　　这里的功能测试可以是验收测试、API测试或集成测试，根据每个系统的情况选择更好满足上面两个关键点的测试类型。
　　例如，我们曾面对一个Web系统，大部分页面逻辑比较简单，主要是呈现内容;前端通过REST接口跟业务后台交互数据。刚开始我们选择基于 WebDriver的验收测试，但随后即发现这类测试编写成本较高，需要学员掌握较多技能，无法在短期内快速为整个系统建立一个防护墙;另一方面，它的稳 定性也较低，测试较易受到页面布局的影响，维护成本较高。在这种情况下，最后我们转而选择了基于REST接口的测试，因为它的建立成本更低，稳定性也更高 (REST接口变化较少)，而且也可以覆盖所有核心功能，相比而言，是个更好的选择。
　　我们还选择了另一个策略：针对热点区域(包括需求热点和缺陷热点等)添加测试。选择这些区域主要基于两点理由。
　　首先，“非热点”区域，也就是暂时稳定的区域，在初期并不是最值得投入为其建立测试的。例如，有个Web系统，它有两个相对独立的组件，一个是社区，另一个是网店，如果前者是热点区域而后者不是，那么前者就更有价值在初期投入建立测试。
　　其次，遗留系统的脆弱性往往体现在“Bug重复出现”、“解决一个Bug，出现两个Bug”等情形。针对这些活跃区域添加测试可以对它们起到保护作用，减少出现上述情况出现的机会;同时，也是对这块区域的一个重构契机。
　　针对“热点”区域，我们一般会在团队中建立类似“完成新需求必须同时完成测试”、“修复缺陷必须添加测试”这样的纪律。
　　同时，选择合适粒度的测试也很重要。各类测试自己的优点，例如集成测试在功能保护上体现效果更快;而单元测试却会驱动内部质量的提升。如果条件允许，选择多 种粒度的测试结合，别忘了之前提到的测试金字塔。我们无法为整个系统一下子建立完善的测试，但为某一个区域，是有可能的。
　　为遗留系统写功能测试
　　功能测试处于测试金字塔的上端，它的稳定性相对较低，维护成本也较高。因此写功能测试一定要关注提升它的稳定性，并降低维护成本，遗留系统在这几个方面遇到的挑战可能会更大。
　　最近我对一个Web系统建立基于WebDriver的功能进行测试，其中面临的一个很大问题就是HTML页面缺乏语义、很多元素的定位都得依靠位置等极不可 靠方式，一旦页某些布局发生变化，就会影响到测试，维护成本很高。但事情总有两面性，正是这些测试，让页面的重构和优化得到了团队的重视。
　　影响功能测试稳定性的另一个重要因素是测试数据。对于团队控制范围内的系统，我的建议是随着测试的建立逐步创建一套可靠的、覆盖各种典型场景的测试数据准备脚本。由此，我们每次都重新建立干净的测试数据，让测试更加稳定和可控。
　　但在遗留系统中，有时会碰上更严峻的问题，系统依赖于第三方或其他不在控制范围内的测试系统。功能测试会影响到测试数据，因此我们的测试很有可能无法重复执 行。当然，建立一个测试替身系统是一种选择方案，但有时并不容易，至少短期之内。面对这种情况，我们的解决方案是让测试程序和测试数据解耦。想象一下，如 果同样的测试由一个测试人员手工执行，每次执行时不需要选择相同的数据，而只需选择“符合同样要求”的数据。
　　例如一个电商系统，它出售数量 有限的商品，售完即止。测试数据库中有大量不同商品，但每种商品数量所剩无几。如果我们的商品购买测试程序针对某个特定商品，那么在运行几次之后，商品就 会卖完，测试就不再具备可执行性。但测试人员不会这么傻，他每次都可以选择还有剩余的商品进行购买测试。既然如此，我们的测试程序也同样可以做到：只要根 据商品页面上的信息识别出哪些商品有剩余，随机或者有策略地选择其中某个商品进行购买即可。
    
用户名：　密　码：　　

网友评论仅供其表达个人看法，并不表明泽众软件测试网同意其观点或证实其描述。请登录后发表
测试专题
手机测试
AutoRunner教程
BUG——银行怎么了？
敏捷测试 您准备好了吗？
测试活动
2012年深圳站第三期测试工具免费培训
"发好贴，赢好书"活动火热开启
2012年北京站院校测试工具培训
2012年北京站第二期测试工具免费培训
 
相关阅读
用Monkeyrunner实现Android的自动化测试怎样搭建与培养自动化测试团队软件自动化测试成功公式WinDump在自动化测试中的抓包工具实现对自动化测试的认识和理解Android系统自动化测试简述关于自动化测试开发的探讨Android手机测试的自动化测试工具
论坛热帖
有奖活动【发好贴，赢好书】活动现已开启，带上你的文章，拿你想要的书籍！求助啊PerformanceRunnerAutoRunner如何验证网页上是否有要出现的文字。2012年深圳站第三期测试工具免费培训免费AutoRunnerCloud云自动化测试工具介绍及使用流程新人来取经软件测试过程的监控方法求帮忙 TC安装运行报错
软件测试工具 | 联系我们 | 投诉建议 | 诚聘英才 | 申请使用列表 | 网站地图
沪ICP备07036474 2003-2012 版权所有 上海泽众软件科技有限公司 Shanghai ZeZhong Software Co.,Ltd   
 
 

